# TestTask

Архитектура проекта

Проект представляет собой прототип игры на Unity с модульной архитектурой, ориентированной на гибкость, поддержку и расширяемость. Ниже описаны основные компоненты и их назначение.


Особенности дизайна

Событийная архитектура: компоненты общаются через EventBus, что уменьшает связанность кода.

Пул объектов: повторное использование часто создаваемых объектов для производительности.

Стейт-машины: поведение игрока и врагов реализовано через состояния.

Модульный UI: интерфейс здоровья и инвентаря отделён от игровой логики.




Core

Базовые системы, используемые по всему проекту:

EventBus — центральная система событий для слабосвязанной коммуникации между компонентами.

ObjectPool — пул объектов для повторного использования (пули, враги, эффекты).

SaveSystem — сохранение/загрузка игры в формате JSON; реализован как Singleton.


Enemies

Отвечает за поведение врагов и их спавн:

Enemy — отдельный враг с поведением.

EnemyManager — отслеживание и управление всеми врагами на сцене.

EnemySpawner — спавн врагов в заданных точках.

DropOnDeath — логика выпадения предметов при смерти врага.


Events

Определяет события игры для слабосвязанной коммуникации:

AllEnemiesDeadEvent — все враги убиты.

DiedEvent — объект (враг или игрок) умер.

HealthChangedEvent — здоровье изменилось.

InventorySlotClickEvent — клик по слоту инвентаря.

InventoryUpdateEvent — обновление инвентаря.

PlayerShootEvent — игрок выстрелил.

ShootButtonPressEvent — нажатие кнопки стрельбы.


Extensions

TransformExtensions — вспомогательные методы для работы с Transform (например, поворот, движение).


Health

Система здоровья персонажей:

Health — компонент для обработки здоровья и получения урона.

HealthUI — визуальное отображение здоровья (полоска).

IDamageable — интерфейс для объектов, которые могут получать урон.


Inventory

Полная система инвентаря игрока:

Inventory — хранение предметов (фиксированный массив или список) с поддержкой стаков.

InventoryDatabase — база всех предметов.

InventoryItem — отдельный стек предмета.

InventoryManager — Singleton для управления инвентарем.

InventorySlotUI — отдельный UI-слот инвентаря.

InventoryUI — управление полным UI инвентаря.

ItemSO — ScriptableObject с данными предмета (ID, иконка, стекуемость и т.д.).

PickupItem — логика подбора предметов в мире.


MainLevel

LevelManager — управление уровнем: запуск, завершение, условия победы/поражения.


Player

Логика игрока и состояния:

Player — контроллер игрока.

BasePlayerState — абстрактное состояние игрока.

PlayerAliveState — активное состояние игрока (жив).

PlayerDeadState — состояние смерти.

PlayerDoNothingState — состояние бездействия.


Gun

Система оружия и снарядов:

GunHandler — управление стрельбой, боеприпасами и оружием.

BulletProjectile — поведение пули и коллизия.


UI

Управление интерфейсом и визуальными эффектами:

UIManager — HUD и обновление UI.

CameraShake — эффект тряски камеры (стрельба, взрывы).

ShootButton — UI-кнопка стрельбы для мобильных устройств.


Packages

AINavigation — AI врагов с небольшой стейт-машиной: Idle, Run, Wander, Attack.

Cinemachine — управление камерой и плавное следование.


Дополнительные системы

ScriptableObject для предметов — гибкое создание и балансировка предметов.



